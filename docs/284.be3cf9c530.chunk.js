"use strict";(self.webpackChunkgraph_stuff=self.webpackChunkgraph_stuff||[]).push([[284],{284:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var n=i(294),l=i(379),o=i.n(l),a=i(795),r=i.n(a),s=i(569),p=i.n(s),f=i(565),d=i.n(f),c=i(216),h=i.n(c),g=i(589),u=i.n(g),v=i(227),m={};m.styleTagTransform=u(),m.setAttributes=d(),m.insert=p().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=h();o()(v.Z,m);v.Z&&v.Z.locals&&v.Z.locals;var x=i(280);let b,w=[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],y=(0,x.getLoopColors)(w.length),S=0;for(let e=0;e<w.length;e++)S+=w[e].value;let k,P,T,C=function(){};class R extends n.Component{constructor(e){super(e),this.refContent=n.createRef(),this.refTooltip=n.createRef()}render(){return n.createElement("div",{className:"PieSimple-view",onMouseMove:e=>this.doHover.call(this,e)},n.createElement("div",{ref:this.refContent,className:"content"}),n.createElement("div",{ref:this.refTooltip,className:"tooltip"}))}componentDidMount(){(0,x.resizeObserver)(this.refContent.current,(0,x.throttle)((()=>{this.doResize()}),{keep:!0}))}doResize(){let e=this.refContent.current;k=.5*e.clientWidth,P=.5*e.clientHeight+20;let t=Math.max(Math.min(k,P)-100,0);t<=0||(this.painter=new x.Canvas(e).config({shadowColor:"#555555"}),T=(i,n=undefined,l=undefined)=>{if(!this.painter)return;this.painter.setRegion("").clearRect(0,0,e.clientWidth,e.clientHeight),this.painter.config({textAlign:"center",fontSize:20,fontWeight:600}).fillText("Referer of a Website",k,30).config({fontWeight:200,fontSize:12}).fillText("Fake Data",k,60),this.painter.config({textAlign:"left"});for(let e=0;e<w.length;e++)this.painter.config({fillStyle:"black"}).fillText(w[e].name,50,24*e+50).config({fillStyle:y[e]}).fillRect(20,24*e+40,25,16);let o,a=-.5*Math.PI;for(let e=0;e<w.length;e++){let r=w[e].value/S*Math.PI*2,s=(e,o,a)=>{if(!this.painter)return;this.painter.setRegion("index"+e);let r=0;n=="index"+e?r=i:l=="index"+e&&(r=1-i),this.painter.config({fillStyle:y[e],strokeStyle:y[e],shadowBlur:n=="index"+e?10:0});let s=(0,x.rotate)(k,P,o+.5*a,k+t,P),p=(0,x.rotate)(k,P,o+.5*a,k+t+20,P),f=[p[0]+15*(s[0]>k?1:-1),p[1]],d=[p[0]+20*(s[0]>k?1:-1),p[1]];this.painter.beginPath().moveTo(s[0],s[1]).lineTo(p[0],p[1]).lineTo(f[0],f[1]).stroke(),this.painter.fillArc(k,P,0,t+r*t*.05,o,a),this.painter.config({textAlign:s[0]>k?"left":"right",fillStyle:"black",shadowBlur:0}).fillText(w[e].name,d[0],d[1])};n!="index"+e?s(e,a,r):o=function(e,t,i){return function(){s(e,t,i)}}(e,a,r),a+=r}o&&o()},T(1))}doHover(e){if(this.painter){let t=this.refTooltip.current;this.painter.getRegion(e.pageX,e.pageY).then((function(i){if(i){if(b||(t.style.display=""),i!=b){C();let e=b;b=i,C=(0,x.animation)((function(t){T(t,i,e)}),200);let n=+i.replace("index","");t.innerHTML="<div style='border-color:"+y[n]+"'><label>Access From</label><i style='background-color:"+y[n]+"'></i><span>"+w[n].name+"</span><span>"+w[n].value+"</span></div>"}e.pageX>k?t.style.left=e.pageX-20-t.clientWidth+"px":t.style.left=e.pageX+20+"px",t.style.top=e.pageY+20+"px"}else if(b){C();let e=b;b="",t.style.display="none",C=(0,x.animation)((function(t){T(t,void 0,e)}),200)}}))}}}const A=R},227:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(81),l=i.n(n),o=i(645),a=i.n(o)()(l());a.push([e.id,".PieSimple-view{position:relative}.PieSimple-view .content{width:100vw;height:100vh}.PieSimple-view .tooltip{position:absolute;transition-duration:300ms;transition-timing-function:linear;transition-property:left top;pointer-events:none}.PieSimple-view .tooltip>div{box-shadow:rgba(0,0,0,.2) 1px 2px 10px;border-style:solid;background-color:#fff;border-width:1px;border-radius:4px;color:#666;font:14px/21px sans-serif;padding:10px;text-align:left}.PieSimple-view .tooltip>div>label{font-size:14px;color:#666;font-weight:400;line-height:1;display:block}.PieSimple-view .tooltip>div>i{display:inline-block;width:10px;height:10px;border-radius:50%;vertical-align:middle;margin:0 5px}.PieSimple-view .tooltip>div>span{font-size:14px;color:#666;font-weight:400}.PieSimple-view .tooltip>div>span:last-child{padding-left:30px;font-weight:900}",""]);const r=a}}]);