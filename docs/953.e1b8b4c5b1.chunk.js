"use strict";(self.webpackChunkgraph_stuff=self.webpackChunkgraph_stuff||[]).push([[953],{953:(e,t,i)=>{i.r(t),i.d(t,{default:()=>M});var l=i(294),n=i(379),o=i.n(n),r=i(795),s=i.n(r),a=i(569),h=i.n(a),c=i(565),f=i.n(c),g=i(216),p=i.n(g),x=i(589),u=i.n(x),d=i(485),v={};v.styleTagTransform=u(),v.setAttributes=f(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(d.Z,v);d.Z&&d.Z.locals&&d.Z.locals;var y=i(280);let k=[{year:"2015",value:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3],color:"#5470C6"},{year:"2016",value:[3.9,5.9,11.1,18.7,48.3,69.2,231.6,46.6,55.4,18.4,10.3,.7],color:"#EE6666"}],A=0;for(let e=0;e<k.length;e++)for(let t=0;t<k[e].value.length;t++)k[e].value[t]>A&&(A=k[e].value[t]);let T,S,W,b=(0,y.ruler)(A,0,5,{}),m=100,P=120,w=100,C=100,H=!1;class R extends l.Component{constructor(e){super(e),this.refContent=l.createRef()}render(){return l.createElement("div",{className:"LineMultipleXAxis-view"},l.createElement("div",{ref:this.refContent,className:"content",onMouseMove:e=>this.doHover.call(this,e)}))}componentDidMount(){(0,y.resizeObserver)(this.refContent.current,(0,y.throttle)((()=>{this.doResize()}),{keep:!0}))}doResize(){H=!1;let e=this.refContent.current;this.painter=new y.Canvas(e).config({fontSize:12}),S=(e.clientWidth-m-w)/k[0].value.length;let t=function(t){return(b[b.length-1]-t)/b[b.length-1]*(e.clientHeight-P-C)+P},i=[],l=[];for(let n=0;n<k[0].value.length;n++){let o=(n+.5)*((e.clientWidth-m-w)/k[0].value.length)+m;i.push([o,t(k[0].value[n])]),l.push([o,t(k[1].value[n])])}let n=(new y.Cardinal).setP(i),o=(new y.Cardinal).setP(l);W=(i,l)=>{if(this.painter){this.painter.clearRect(0,0,e.clientWidth,e.clientHeight),this.painter.config({textAlign:"right",fillStyle:"#6e7079",lineWidth:1,lineDash:[]});for(let i=0;i<b.length;i++){let l=t(b[i]);this.painter.fillText(b[i],m-5,l),this.painter.config({strokeStyle:0==i?k[1].color:i==b.length-1?k[0].color:"#e0e6f1"}).beginPath().moveTo(m,l).lineTo(e.clientWidth-w,l).stroke()}this.painter.config({textAlign:"center",strokeStyle:k[0].color,fillStyle:k[0].color});for(let e=0;e<k[0].value.length;e++){let t=(e+.5)*S+m;this.painter.fillText(k[0].year+"-"+(e+1),t,P-15),this.painter.beginPath().moveTo(t,P).lineTo(t,P-5).stroke()}this.painter.config({strokeStyle:k[1].color,fillStyle:k[1].color});for(let t=0;t<k[1].value.length;t++){let i=(t+.5)*S+m,l=e.clientHeight-C;this.painter.fillText(k[1].year+"-"+(t+1),i,l+15),this.painter.beginPath().moveTo(i,l).lineTo(i,l+5).stroke()}this.painter.config({fillStyle:"white",strokeStyle:k[0].color,lineWidth:2,textAlign:"left"}).beginPath().moveTo(.5*e.clientWidth-140,30).lineTo(.5*e.clientWidth-110,30).stroke().fullCircle(.5*e.clientWidth-125,30,5).config({fillStyle:"black"}).fillText("Precipitation("+k[0].year+")",.5*e.clientWidth-100,30),this.painter.config({fillStyle:"white",strokeStyle:k[1].color,lineWidth:2}).beginPath().moveTo(.5*e.clientWidth+20,30).lineTo(.5*e.clientWidth+50,30).stroke().fullCircle(.5*e.clientWidth+35,30,5).config({fillStyle:"black"}).fillText("Precipitation("+k[1].year+")",.5*e.clientWidth+60,30),this.painter.config({strokeStyle:k[0].color,lineWidth:2}).beginPath();for(let t=m;t<(e.clientWidth-m)*i+m-w;t+=5)this.painter.lineTo(t,n.use(t));this.painter.stroke(),this.painter.config({strokeStyle:k[1].color}).beginPath();for(let t=m;t<(e.clientWidth-m)*i+m-w;t+=5)this.painter.lineTo(t,o.use(t));if(this.painter.stroke(),l&&(this.painter.config({lineDash:[2],strokeStyle:"black",lineWidth:1}).beginPath().moveTo(m,l.yAxis.top).lineTo(e.clientWidth-w,l.yAxis.top).stroke().beginPath().moveTo(l.xAxis.left,P).lineTo(l.xAxis.left,e.clientHeight-C).stroke(),this.painter.config({fillStyle:"black"}).fillRect(m-50,l.yAxis.top-10,46,20).config({fillStyle:"white",textAlign:"center"}).fillText(l.yAxis.value,m-27,l.yAxis.top),this.painter.config({fillStyle:k[0].color}).fillRect(l.xAxis.left-90,P-24,180,20).config({fillStyle:"white"}).fillText("Precipitation "+k[0].year+"-"+(l.xAxis.index+1)+" "+k[0].value[l.xAxis.index],l.xAxis.left,P-14),this.painter.config({fillStyle:k[1].color}).fillRect(l.xAxis.left-90,e.clientHeight-C+4,180,20).config({fillStyle:"white"}).fillText("Precipitation "+k[1].year+"-"+(l.xAxis.index+1)+" "+k[1].value[l.xAxis.index],l.xAxis.left,e.clientHeight-C+14)),1==i){this.painter.config({fillStyle:"white",lineDash:[],lineWidth:2});for(let e=0;e<k.length;e++)for(let i=0;i<k[e].value.length;i++)this.painter.config({strokeStyle:k[e].color}).fullCircle((i+.5)*S+m,t(k[e].value[i]),l&&l.xAxis.index==i?5:3)}}},(0,y.animation)((function(e){W(e)}),1e3,(function(){H=!0}))}doHover(e){if(H){let i=this.refContent.current;if(e.pageX>m&&e.pageX<i.clientWidth-w&&e.pageY>P&&e.pageY<i.clientHeight-C){var t=Math.floor((e.pageX-m)/S);W(1,{xAxis:{index:t,left:(t+.5)*S+m},yAxis:{value:((1-(e.pageY-P)/(i.clientHeight-C-P))*b[b.length-1]).toFixed(2),top:e.pageY}}),T=!0}else T&&(W(1),T=!1)}}}const M=R},485:(e,t,i)=>{i.d(t,{Z:()=>s});var l=i(81),n=i.n(l),o=i(645),r=i.n(o)()(n());r.push([e.id,".LineMultipleXAxis-view .content{width:100vw;height:100vh}",""]);const s=r}}]);